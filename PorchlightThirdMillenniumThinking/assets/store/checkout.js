(function(){this.disableSaveOnClick=function(){return $("form.edit_order").submit(function(){return $(this).find(":submit, :image").attr("disabled",!0).removeClass("primary").addClass("disabled")})},$(function(){var e,t,r,o,l,s;if($("#checkout_form_address").is("*")&&($("#checkout_form_address").validate(),r=function(e){return $("p#"+e+"country span#"+e+"country-selection :only-child").val()},o=function(e){return state_mapper[r(e)]},l=function(e){return countryStatesRequired[r(e)]},e=function(e,t){return $("#order_"+t+"_address_attributes_state_id").val($("#order_"+e+"_address_attributes_state_id").val()),$("#order_"+t+"_address_attributes_state_name").val($("#order_"+e+"_address_attributes_state_name").val()),$("#order_"+t+"_address_attributes_address1").val($("#order_"+e+"_address_attributes_address1").val()),$("#order_"+t+"_address_attributes_address2").val($("#order_"+e+"_address_attributes_address2").val()),$("#order_"+t+"_address_attributes_company").val($("#order_"+e+"_address_attributes_company").val()),$("#order_"+t+"_address_attributes_phone").val($("#order_"+e+"_address_attributes_phone").val()),$("#order_"+t+"_address_attributes_firstname").val($("#order_"+e+"_address_attributes_firstname").val()),$("#order_"+t+"_address_attributes_lastname").val($("#order_"+e+"_address_attributes_lastname").val()),$("#order_"+t+"_address_attributes_city").val($("#order_"+e+"_address_attributes_city").val()),$("#order_"+t+"_address_attributes_zipcode").val($("#order_"+e+"_address_attributes_zipcode").val()),$("#order_"+t+"_address_attributes_state_id").val($("#order_"+e+"_address_attributes_state_id").val()),$("#order_"+t+"_address_attributes_state_name").val($("#order_"+e+"_address_attributes_state_name").val()),!1},t=function(e,t){return $("#order_"+t+"_address_attributes_country_id").val($("#order_"+e+"_address_attributes_country_id").val())},s=function(e){var s,t,r,a,i,d,n,_;return d=o(e),n=l(e),r=$("p#"+e+"state"),a=r.find("select"),t=r.find("input"),i=r.find("state-required"),n?(s=parseInt(a.val()),a.html(""),_=[["",""]].concat(d),$.each(_,function(e,t){var r;return r=$(document.createElement("option")).attr("value",t[0]).html(t[1]),s===t[0]&&r.prop("selected",!0),a.append(r)}),a.prop("disabled",!1).show(),t.hide().prop("disabled",!0),t.val(null),r.show(),i.show()):(a.val(""),a.hide().prop("disabled",!0),t.show().removeClass("hidden"),i.show(),r.toggle(!0),t.prop("disabled",!1))},$("p#bcountry select").change(function(){return s("b")}),$("p#scountry select").change(function(){return s("s")}),s("b"),s("s"),$("#copyToBilling").click(function(){return t("ship","bill"),s("b"),e("ship","bill")}).triggerHandler("click"),$("#copyToShipping").click(function(){return t("bill","ship"),s("s"),e("bill","ship")}).triggerHandler("click"),$("input#order_use_billing").click(function(){return $(this).is(":checked")?($("#shipping .inner").hide(),$("#shipping .inner input, #shipping .inner select").prop("disabled",!0)):($("#shipping .inner").show(),$("#shipping .inner input, #shipping .inner select").prop("disabled",!1),o("s")?$("span#sstate input").hide().prop("disabled",!0):$("span#sstate select").hide().prop("disabled",!0))}).triggerHandler("click")),$("#checkout_form_payment").is("*"))return $('input[type="radio"][name="order[payments_attributes][][payment_method_id]"]').click(function(){if($("#payment-methods li").hide(),this.checked)return $("#payment_method_"+this.value).show()}),$(document).on("click","#cvv_link",function(e){var t,r;return t="cvv_info",r="left=20,top=20,width=500,height=500,toolbar=0,resizable=0,scrollbars=1",window.open($(this).attr("href"),t,r),e.preventDefault()}),$('input[type="radio"]:checked').click()})}).call(this);